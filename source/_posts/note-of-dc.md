---
title: 《编译原理》学习笔记
date: 2021-06-29 20:29:43
mathjax: true
category:
    - 计算机科学
---

想要提前学习这一门课主要是因为自动机学得确实太不行了，而编译原理与之强相关，为了防止编译原理也起飞，所以还是学一点点。这个笔记基本基于 Compiler: Principles, Techniques & Tools 这本书以及校内的一些 Lecture 资料。

<!-- more -->

## 引言

编译指的是将某一语言（源语言）的程序转换为另一种语言（目标语言）的、与源程序等价的程序的过程。编译过程可以产生可执行的二进制文件。如果如此，那么可执行文件可以被用户执行，接受输入并产生输出。

{% note no-icon %}
与编译不同，**解释过程**会同时接受源代码以及输入，并直接生成程序运行输出。这一过程之中不会产生中间的可执行文件。

与编译产生的可执行文件相比，解释的速度会更慢，但是其更容易探测源代码的一些运行时的错误，这是编译所做不到的。

另外需要注意的是，一些语言，如 Java ，可能会融合编译和解释两种模式。 Java 语言的源代码需要经过编译变为 Bytecode ，而 Bytecode 可以在 Java 虚拟机上和程序输入一起经过解释直接得到程序运行输出。
{% endnote %}

事实上，在处理真正的较大的工程源代码文件的时候，源代码并不一定仅仅经过编译这一个过程。一般而言，源代码需要经过预处理、编译、汇编、链接四个过程。源代码首先会在预处理过程中按照一定规则稍作改变，之后被编译为汇编语言，汇编语言文件会被汇编为可重定位目标程序，最后经过链接得到真正的可执行文件。

我们把这四个过程依然笼统地总称编译过程，但是《编译原理》本身依然注重探讨作为四大过程之一的编译过程的原理。

### 编译过程简介

编译过程可以大致分为两个部分，首先是**分析（ analysis ）**，之后是**综合（ synthesis ）**。分析过程会拆解源代码的结构，分析源代码之中各个标识符的含义，产生中间分析结果。之后综合过程会基于分析过程的结果，生成与源代码等价的目标语言代码。

这里，执行分析过程的部分一般称为**编译前端**，执行综合过程的部分一般称为**编译后端**。另外，现代编译器可能还具有**编译中端**，其一般用于执行一定的代码优化工作。

比较经典的编译过程可以分为词法分析、语法分析、语义分析、中间代码生成、中间代码优化、目标代码生成、目标代码优化这些过程。

#### 词法分析

词法分析过程会逐个读入源程序字符，将其分割为若干的**词位（ lexeme ）**，每一个词位都是有意义的。之后每一个词位会被转化为一个**令牌（ token ）**，令牌的格式类似于：

$$
\langle \text{token name}, \text{attribute value} \rangle
$$
