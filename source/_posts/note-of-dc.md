---
title: 《编译原理》学习笔记
date: 1021-09-14 13:19:52
mathjax: true
category:
    - 计算机科学
---

这门课今年被史诗级削弱了，所以也就一直没有动这门课。但是现在要开始做作业了，不得不开始动手做一些事情了。

由于这门课很多东西似乎已经在《形式语言与自动机》这门课里面讲到了，所以应该不会非常困难吧（但是实际上我自动机学得相当不行）。

<!-- more -->

## 编译概论

编译实际上就是将一种语言编写的程序翻译为另外一种语言的等价程序，这两种语言分别称为**源语言（ Source language ）**和**目标语言（ Target language ）**。

编译一般分为**分析（ Analysis ）**和**综合（ Sythesis ）**两个步骤。前者用于识别源语言程序结构信息和语义信息，并给出相关的错误信息。后者则根据分析步骤得到的信息获取目标语言的程序。

编译程序中用于完成大部分分析工作的部分是**编译前端（ Compiler frontend ）**，而主要完成综合工作的则是**编译后端（ Compiler backend ）**。现代编译器往往还具有位于前端和后端之间的，用于完成优化等工作的**编译中端（ Compiler middleend ）**。

一个典型的编译前端往往负责**词法分析（ Lexical analysis ）**、**语法分析（ Syntax analysis ）**和**语义分析（ Semantic analysis ）**，同时负责中间代码生成。编译中端则会负责中间代码优化，编译后端则会负责目标代码生成和目标代码优化。

词法分析首先扫描出源语言程序中具有意义的词法单元，返回单词的值和单词的类别，同时也会返回相关的错误信息。语法分析会根据词法分析的结果构建抽象语法树 AST 。随后，语义分析会分析 AST ，构建符号表，并且给出不符合语言语义的部分。

中间代码生成则根据 AST 和符号表进行，一般而言首先会生成三地址码 TAC 。而目标代码生成则是根据 TAC 转化为目标代码。

---

现实的**编译型语言**常常会采用上述的编译过程，目标语言常常是汇编语言，运行的时候会把编译得到的汇编代码汇编并链接为可执行文件，最后将可执行文件载入内存后运行。但是现在也有**解释型语言**，这种语言不区分编译和运行，其解释器会逐句翻译源代码，并逐句立刻执行。

## 词法分析

词法分析需要一个**词法扫描程序（ Scanner ）**，这种程序会依次逐字符扫描源代码程序，识别其中具有词法含义的**单词（ Lexemes ）**，同时返回单词记录，单词记录由**单词记号（ Token ）**和**单词属性值（ Attribute ）**组成。词法扫描程序除此之外往往还需要负责跳过空格、处理换行、跳过注释、宏展开等任务。

词法分析和语法分析两者有两种较为常见的交互方式。一种是，词法扫描程序扫描全部源代码后将获取的词法信息一次性传给语法分析程序。另外一种更常用的交互方式则是，交由语法分析程序触发词法分析，即当语法分析需要的时候会触发词法扫描程序返回下一个单词记录，语法分析程序再据此进行语法分析，以此循环。

一般的程序中的单词会包括保留字、标识符、字面量（常量）、运算符、分界符等。