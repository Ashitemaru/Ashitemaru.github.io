---
title: 《计算机组成原理》学习笔记
date: 1021-09-14 13:18:17
mathjax: true
category:
    - 计算机科学
---

本学期重中之重的一门专业课，也是 4 学分的大课。但是考虑到我的意向研究生方向和这门课实际上不太贴合，估计还是稍微学学就撤退吧。

说实话到第五周才开始写这门课的笔记还是比较惭愧，但确实这一学期在课内的投入少了很多。

<!-- more -->

## 计算机系统概述

### 计算机发展历史简述

在计算机发展进程之中，先后出现了类似 Pascal 加法机、差分机、分析机等计算工具。随后， Turing 提出了通用计算机的概念，这种计算机可以执行任何一个算法。基于这个理论，计算机科学形成了“可计算性”概念的基础。而这种通用的计算模型就是 Turing Machine 。

在 1946 年，第一台通用电子计算机 ENIAC 制成。之后， Von Neumann 提出了包含五大部件的现代的计算机架构，基于此，第一台 Von Neumann 架构计算机 EDSAC 诞生。

随后，第一台小型机 PDP-1 ，第一个编译器 A0 编译器，第一个面向商务的语言 COBOL 语言，第一个系列计算机 IBM 360 逐次诞生。

### Von Neumann 架构

Von Neumann 架构的计算机包含的组件为 Datapath 、 Control 、 Memory 、 Input 和 Output 。其负责的职能分别为：

- Datapath 负责完成算术和逻辑运算，通常这些任务也包含了寄存器操作

- Control 是 CPU 的组成部分，其根据程序指令来控制计算机其他组件共同完成程序功能

- Memory 负责存放运行时程序及其所需要的数据

- IO 则负责将信息传入计算机和将计算机结果展示给用户

这种架构里，程序和数据统一表示为二进制数据。

在此架构下，计算机具有以下特征：

- 程序由指令构成，程序功能通过指令序列表述，指令序列在存储器之中顺序存放

- 程序指针指向需要执行的指令，执行指令的时候首先从存储器之中读取指令，执行完毕后程序指针自增，指向下一条指令

### 指令系统

指令可以分为若干类，包括数据运算指令（如算数运算、逻辑运算）、数据传输指令（内存到寄存器、寄存器到寄存器）、控制指令（无条件跳转、条件跳转、子程序的支持、调用和返回）、输入输出指令（与输入输出端口的数据传输）以及其它指令（停机、开关中断、空操作、特权指令、设置条件码）。

指令的具体一般分为两段，前一段是指明操作功能的**操作码**，后一段是**操作数地址**，其作用是指明操作数所在的地址或者操作数本身。而这样的一条指令的完整的二进制表示就是一个**指令字**，其长度称为**指令字长**。

指令字长并不一定固定，操作码的长度也不一定固定。

---

指令系统的另一重要方面是其**寻址方式**，其定义为确定本条指令的操作数地址及下一条要执行的指令地址的方法，包括了指令系统寻找寄存器、寻找立即数、寻找给定内存地址的数据、寻找输入输出端口的方式。不同的指令集会有不同的寻址方式，有些指令集只支持一种寻址方式，也有一些指令集支持复杂的寻址方式。

在指令字之中的操作数地址段编写的地址可能并不是所要寻求的数据直接的真实内存地址，这一字段编写的地址称为**形式地址**。形式地址可以是：

- 运算器中的累加器的编号或专用寄存器名称

- 输入输出指令中用到的 IO 设备的入出端口地址

- 内存储器的一个存储单元的地址

计算机可以按照给定的寻址方式，将这些形式地址转化为数据的真实地址之后进行访问。

---

有关复杂指令集 CISC 和精简指令集 RISC 的差别可以查看 [汇编课程笔记](/1021/08/09/note-of-asm/) 的内容。

此外，这里介绍**超长指令字（ Very Long Instruction Word / VLIW ）**，其将简短而长度统一的精简指令组合出超长指令，每次运行一条超长指令，等于并发运行多条短指令。

本课程的课程实验基于精简指令集 RISC-V ，有关这个指令集的资料可以查看课程文件之中的相关参考文档，有关本次课程中使用的实验平台中内存分布、串口交互规定等内容，则参考 PPT 。

### 评价计算机性能的标准

常见的评价标准包括：

- 吞吐率，即单位时间内计算机能够完成的指令数量

- 响应时间，即计算机完成任务所需要的时间

- 其他的指标还包括， MIPS 、 CPI 、 CPU Time 、 CPU Clock 等

基于此，我们可以使用各种综合测试程序对计算机进行评测。

## 数据编码

### 字符编码