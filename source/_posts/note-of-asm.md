---
title: 《汇编语言程序设计》学习笔记
date: 2021-08-09 14:22:58
category:
    - 计算机科学
---

这门课是 2021 年暑期学期开设的计算机系专业课，应该也算是为下学期的《计算机组成原理》课程做预备，所以还打算好好学一下。

<!-- more -->

# 课程基本介绍

## 汇编语言介绍

汇编语言可以认为是机器指令的一种表记方式，其表述了计算机硬件系统对外开放的主要接口和规格，是计算机系统之中的软硬件的分界。所以说要了解汇编语言，就首先需要了解机器指令。

机器指令系统一般分为两类：

- CLSC ，即**复杂指令系统**。一般而言具有多种指令，寻址方式复杂，单条指令的功能较为复杂。较为经典的代表是 X86 。

- RISC ，即**精简指令系统**。考虑到实际使用的指令大多都是简要指令，故该系统只具有常用的精简指令。在这样的条件下，该指令系统依赖于编译器产生高效的代码（依赖编译器优化）。较为经典的代表为 MIPS 。

目前， CLSC 和 RISC 之间的差别渐渐缩小。但是还是具有明显的区分方式的，即：

{% note info no-icon %}
It loads / stores [with / without] other operations.
{% endnote %}

借助于连接软硬件的机器指令集，计算机系统实现了软硬件解耦合。这样软硬件可以独立编写，从而促进了计算机的发展。

**注解：**软硬件的分离的一个重要基石是**图灵完备性**。也就是说软件使用的高级语言是图灵完备的，硬件的指令序列也是图灵完备的，这两者完全等价。这样才保证了分离的可行性。

## X86 指令集介绍

X86 指令集具有以下的基本特征：

- 向下兼容、变长指令、多种寻址方式

- 通用寄存器个数有限（ X86-32 具有 8 个通用寄存器， X86-64 具有 16 个通用寄存器）

- 至多允许一个操作数在内存中，另外一个操作数需要在寄存器中或者是立即数

{% note info no-icon %}
这里提到了寄存器。 X86 之中的寄存器命名为：

| 寄存器名称【 X86-64 名称】 | X86-32 名称 | 寄存器名称【 X86-64 名称】 | X86-32 名称 |
| :-: | :-: | :-: | :-: |
| %rax | %eax | %r8 | %r8d |
| %rdx | %edx | %r9 | %r9d |
| %rcx | %ecx | %r10 | %r10d |
| %rbx | %ebx | %r11 | %r11d |
| %rsi | %esi | %r12 | %r12d |
| %rdi | %edi | %r13 | %r13d |
| %rsp | %esp | %r14 | %r14d |
| %rbp | %ebp | %r15 | %r15d |

{% endnote %}

由于 X86 重视向下兼容，所以其指令集越来越趋向于庞杂，所以其一个缺点就是资源利用率低。

## MIPS 指令集介绍

MIPS 的设计思想是充分利用处理器的流水线结构，目标是让流水线各段负载均匀，这样可以让处理器频率得到提高。其特征包括：

- 以寄存器为中心，只有 Load 以及 Store 命令可以访问内存

- 所有计算操作均是从寄存器堆之中读取数据并将结果保存到寄存器堆

- 指令格式规整、定长，且操作码位置固定，指令类型少（ MIPS32 的指令只有 register / immediate / jump 三类）

- 寻址方式简单，每一条指令的操作过程简单

当然， MIPS 也具有一些被扩展过的扩展指令集，如 MIPS16e 等等。

此外， RISC-V 也是一种常用指令集。但其几乎和 MIPS 同源，故这里不作详细介绍。

# 整数的表示

首先我们介绍一些简要表记，即 K / M / G / T / P / E 。符号 K 表示 $2^{10}$ ，之后有 $M = 2^{10} K$ 以及 $G = 2^{10} M$ ，依此类推。

同时我们将一个二进制位称为**比特（ bit ）**，将八个比特称为**字节（ byte ）**。在 X86 架构下，两个字节称为一个**字（ word ）**，而在 MIPS 架构下则是四个字节。

对于数的进制、二进制数的逻辑运算，这里不进行介绍。

## 字节序

