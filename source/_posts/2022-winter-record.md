---
title: 2022 寒假生活记录
date: 2022-11-28 17:41:42
category:
    - 【生活记录】假期日记
mathjax: true
---

近期 Omicron 的大流行是没有收束的迹象了，政策的变动也一直没有消停，全国的抗议活动虽然有所消停但也此起彼伏。Holder 并不打算继续滞留在北京受罪了，想着回家不要隔离，虽然机厅一时半会还是去不了，但是毕竟家还是家。

这里顺便也会记一点疫情相关新闻，因为最近实在是变动太大了。

<!-- more -->

任务列表：

- 实验室
    - 强化学习相关基础
    - 每周组会
- 课内
    - 【12.18】日语期末口语视频
    - 【每周】现代控制技术作业
    - 【未定】现代控制技术期末考核
- THUInfo
    - THUInfo iOS CI
    - THUInfo beta 2.0 发布与 3.0.0 正式发布
    - 培养方案 & 选课功能
- 科协
    - 强化学习 & 图形学技能引导文档
- 课咨委
    - 软工小作业文档 & 软工小作业试题
    - 调研小作业改革方案的问卷
    - 一字班回访 & 零字班访谈
- 摸鱼
    - 雀魂冲豪三（雀圣也可以考虑）
    - 什么时候能打到 maimai

# 2022.11.30

到家的第二天，这次回家只做了落地核酸检测和签知情书，总体还是简化了很多。

今天打了一整天的牌，啥也没干，主要是刚到家真的不太想认真做事。但是直到今晚写了上面的任务列表，才发现真的好多事情，一定得开始做了，先从实验室开始做，然后课内之类的都得要做。

## 新闻选录

- 江泽民去世
- 广州成为石家庄试点放开失败后的又一试点城市，取消全员核酸检测，取消封控
    - （未经证实）中山大学取消进出校限制，自由进出
- 广州取消时空伴随者概念，密接不再考虑轨迹相交，仅考虑同住等关系
- 国务院联防联控机制发布会首次公布病毒毒性减弱，且并没有强调坚持动态清零
- 北京部分市辖区宣布密接可以居家隔离
    - （未经证实）北京传言后续可能调整为阳性亦居家隔离
- 清华大学内部不再公布阳性学生轨迹，密接学生调整为宿舍隔离
- 国内抗议活动趋于平缓，抗议活动收集平台的公布信息中，今日仅有部分国外城市广场有声援国内抗议活动，国内仅有上海一小区因违规封禁出现抗议
- 维基百科收录系列抗议活动相关词条且词条目前受保护

还有一个境外势力笑话。我昨天从北京南站回家，看到有不可辨识的外国记者采访清华学生一些问题。然后在我们动漫社的一个分群里有人问是不是真的有外国记者，我做了肯定的答复，然后这个分群群主去动漫社主群发布信息称注意不可辨识的外国记者。结果今天推特上看见了这则消息，称这是校方发布的。评论区全都是一边倒指责言论问题的。

# 2022.12.01

依然是无所事事的一整天，虽然理论上有很多事情要去做，但是最后还是仅仅做了一些没什么用的事情。

但实际上让我完全不想动的一个主要原因就是目前好多事情已经脱离这个环境了，重启需要一些再次熟悉的时间。比如说软工小作业，现在我继续接着后面写的话就需要重新理一遍我还有什么没写完，然而就这一步我已经不太想动了。

但总之继续做吧，明天还有组会，实验室的东西除了今天看出来多半是不收敛了之外，数据处理我目前还是没有把握，洗出来的 trace 千奇百怪，完全不能用。

---

实验室的东西遇到了点瓶颈，主要是我无法从数据集里面得知什么时候一个 stream 截止。原先采用的方法是切换 channel 就认为 stream 切换，但是用这种方法收集到的数据比较怪异，经常出现时间戳突变（从 0 附近的值突变到七万多秒）。然后今晚我根据 Puffer 数据集的描述，改换为 session ID 变化则认为 stream 切换，结果发现洗出来几万条 trace。

其实这也是符合实际的，不少人去 Puffer player 上也不过就看几秒钟就不看了。然而这会导致 trace 的有效性下降，因为实在是太短了，没有采用的价值。

然而，这个问题似乎并不会影响到 Offline RL 本身，因为 Offline RL 只关注状态的切换，trace 很短并不会影响到状态切换本身。所以我打算用新数据跑一遍训练，顺便检查一下熵的收敛性，明天组会汇报点东西吧。

但是这个服务器也快被我摧残坏了，怎么现在洗数据这么慢。

## 新闻选录

- 官媒发声承认病毒毒性呈指数递减

今天没什么像昨天那样的大新闻，只是在舆论上慢慢看得出来疫情终究是要结束了。

# 2022.12.02

实验室今天开了组会，约定了下周一聊一下毕设的事情。

然后我现在感觉实验室这一边要做的事情有：

- 和最初版本的 Puffer loader 作比较，看到底是什么让数据加载这么慢
- 目前用了小规模的新数据（Puffer 2022.12.01 PBS 数据）训练模型，目前效果不差，如果可行后面继续和 HYB 和 MPC 等 baseline 做一个对比

现在就是祈祷千万千万不要出现之前的情况，也就是训练到一半 reward 突然跳崖，这要是再出现我也要跳崖了。

但是说实话，想摸鱼。

---

实验这边稍微做了一下，小规模数据真跳崖了，但是没有像之前一样一下子就下去了，而是每过 10 个 epoch 左右掉下去一点。

整个模型刚起来的时候大概 reward 能打到 15.9 左右，中间有段时间能上到 16.2，但是震荡一段时间后直接就炸了。作为参考，启发式算法 BBA 的 reward 大约是 15.4。总之是炸了。

看 log，感觉是部分地方太过于保守，甚至出现了大量连续选择最低档位的情况。

目前计划用 HYB 以及 MPC 看看 baseline 到底在哪里，如果这两个都打不过 BBA，说明测试脚本还有问题，如果没问题，就是数据集要重新考虑一下，找找黄老师。

至于数据脚本运行太慢的问题，可以试着去 100 核机子上试一下。

总之还有不少事情要做。